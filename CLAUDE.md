# 项目规范

## 开发习惯

- 将任务解耦为更标准的小模块（函数），尽量使用市面上优质成熟通用的组件，避免自己造轮子
- 对于转换、修复的脚本，需要实现幂等性，当出现错误或需要优化时，可迭代代码并重复执行

## 语言要求

- **使用英文**：

  - **范围**：代码、程序文件内的注释、日志、调试信息
  - **原因**：项目本身以英文为主要语言

- **使用中文**：

  - **范围**：文档（例如 README 文件、`docs/` 目录下的文件）、你与我对话时的回复
  - **原因**：对于大语言模型可以节约数量可观的 tokens，而文档随时可以多翻译一份英文版
  - **例外**：为了保持理解一致性，对于包括专有技术术语的专有名词，仍然使用英文表达

- **中英双语**：
  - **范围**：git commit message
  - **原因**：对于无法修改的历史信息，中英双语可以保持最大的信息量、兼容性和灵活性

## 文档组织

### README 文件

- **必须有的**：根目录；所有组件、模块、功能和工具目录
- **语言要求**：中文（对于专有名词保留英文）
- **保持更新**：在你认为 README 文件已不符合项目当前状态时，必须**立即更新**，始终保持 README 文件的信息为最新

#### 必要的章节

1. **用途**：简短描述目录内容（1-3 句话）
2. **使用方法**：如何使用该组件，包括：
   - 环境配置
   - 安装/初始化
   - 编译/构建步骤
   - 如何使用该组件
   - 测试流程
3. **路线图**：条目带状态指示器：
   - ✅ 已完成
   - 🔄 进行中
   - ⏳ 计划中
   - ❌ 已阻塞
   - 🔍 审核中
4. **下一步行动项**：优先级排序的即将进行的任务/功能

## 文案排版标准

### 中文排版规范

遵循[中文文案排版指北](https://github.com/sparanoid/chinese-copywriting-guidelines)的所有内容，主要注意以下几点：

<!-- autocorrect-disable -->

- 中英文之间添加空格：
  - ✅ 使用 Markdown 格式
  - ❌ 使用Markdown格式
- 中文和数字之间添加空格：
  - ✅ 共发现 3 个问题
  - ❌ 共发现3个问题
- 中文使用全角标点符号：
  - ✅ 请检查错误，然后重试。
  - ❌ 请检查错误,然后重试.
- 技术术语使用正确大小写：
  - ✅ 使用 GitHub 账号
  - ❌ 使用 github 账号

<!-- autocorrect-enable -->

### Markdown 排版规范

参照 [markdownlint](https://github.com/DavidAnson/markdownlint) 的编号与规则，特别注意需要遵守以下这些规则：

- `MD001` 标题层级不能跳跃，必须依次递增
- `MD003` 标题风格保持一致
- `MD004` 无序列表标记风格保持一致
- `MD005` 同级列表项缩进相同
- `MD007` 无序列表缩进统一
- `MD009` 不出现行尾空格
- `MD010` 不使用制表符，用空格代替
- `MD011` 链接语法格式正确
- `MD012` 避免连续多个空行
- `MD014` 命令示例格式正确
- `MD018` 标题井号后要有空格
- `MD019` 标题井号后只用一个空格
- `MD020` 封闭式标题内侧有空格
- `MD021` 封闭式标题内侧只用一个空格
- `MD022` 标题前后要有空行
- `MD023` 标题必须顶格写
- `MD025` 文档只有一个一级标题
- `MD026` 标题末尾不加标点
- `MD027` 引用符号后只用一个空格
- `MD028` 引用块之间不留空行
- `MD029` 有序列表编号格式统一
- `MD030` 列表标记后空格数正确
- `MD031` 代码块前后要有空行
- `MD032` 列表前后要有空行
- `MD033` 避免使用内联 HTML
- `MD034` 网址要用链接语法包装
- `MD035` 分隔线风格统一
- `MD036` 不用强调代替标题
- `MD038` 代码标记内不留空格
- `MD039` 链接文本内不留空格
- `MD040` 代码块指定编程语言
- `MD041` 文档以一级标题开始
- `MD043` 标题结构符合要求
- `MD044` 专有名词大小写正确
- `MD045` 图片必须有替代文本
- `MD046` 代码块风格统一
- `MD047` 文件以单个换行符结束
- `MD048` 代码围栏符号统一
- `MD049` 强调符号风格统一
- `MD050` 加粗符号风格统一
- `MD051` 链接锚点必须有效
- `MD052` 引用式链接和图片有定义
- `MD053` 引用式定义必须被使用
- `MD054` 链接和图片语法风格统一
- `MD055` 表格分隔符风格统一
- `MD056` 表格列数保持一致
- `MD058` 表格前后要有空行

以下这些规则无需遵守：

- ~~`MD013` 行长度不超过限制~~ —— 允许无限长度
- ~~`MD024` 避免重复的标题内容~~ —— 允许有多个相同内容的标题
- ~~`MD037` 强调标记内不留空格~~ —— 允许有空格
- ~~`MD042` 链接必须有目标~~ —— 允许空链接

### 格式化与验证

- 中文文本：`bunx autocorrect --lint`
- Markdown：`bunx prettier --check`
- 自动修复：`bunx autocorrect --fix && bunx prettier --write`
