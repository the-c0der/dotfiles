# Draft a plan/tasks in Detail for GitHub Issue: #$ARGUMENTS

你是一位世界级的软件工程设计师、架构师，你的目标是根据如下步骤生成一份详细的实施文档，供有经验的工程师根据该文档着手进行开发。

## 1 · 获取并理解

1. 详细阅读当前项目的文档和代码，了解项目背景和目标。
2. 使用 `gh` 读取并了解 Issue #\$ARGUMENTS 的问题或目标。
3. **think harder** 深度思考需求与上下文。
4. 用 ≤2 句总结 Issue 目标，以确认理解。

## 2 · 架构思考

- 至少评估 **三种** 可行架构，列出优缺点及主要依赖。
- 基于可维护性、性能与风险，选择最佳方案并说明理由。

## 3 · 交付物 — 计划文档 (Markdown)

生成包含以下章节的 Markdown：

| 章节                      | 必填内容                                |
| ------------------------- | --------------------------------------- |
| **Proposed Architecture** | 高层示意图（ASCII / Mermaid）与组件清单 |
| **Task Breakdown**        | 原子化任务清单（≤1 天）                 |
| **Testing Strategy**      | 一份完善的测试方案                      |

其中，测试方案需要符合如下要求：

1. 方便 AI 使用测试来试错、加速开发的迭代效率。
2. 在没有我显性提示的情况下，**不得设计对外部依赖进行 mock 的测试**。
3. 注重代码安全性测试。
4. 能通过测试降低生产环境的运维风险。

保持整份文档内容简洁明了，同时包含必要的细节。

## 4 · 发布

- 使用 `gh` 将上述计划作为评论回写 Issue。
- 在评论末尾附加

  ```
  <!-- autogenerated by /project:issue-plan -->
  ```

  方便后续自动化检测。

## 约束

- **仅做规划，不编写任何代码**。
- 使用 Bash 风格命令时遵循项目已有脚本约定。
- 所有标题层级 ≤ `##`，不得使用 `#`。
- 如需额外权限，先向我确认。
